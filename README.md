# slurm-table

> tested on python 3.6.8 and 3.12.10

## output view

this is [晶創25 nano5 hpc](https://www.nchc.org.tw/Message/MessageView/3958?mid=46&page=1) as of 2026 Feb 28.

```
(base) [seanma0627@cbi-lgn01 slurm-table]$ ~/slurm-table
         |   #1   |   #2   |   #3   |   #4   |   #5   |   #6   |   #7   |   #8   |   %CPU | State
---------|--------+--------+--------+--------+--------+--------+--------+--------|--------|-------
   hgpn01|        |        |        |        |        |        |        |        |  32.35 | IDLE
   hgpn02|<~~~~126244~~~~~>|<~~~~126245~~~~~>|<~~~~126762~~~~~>|<~~~~127165~~~~~>|  39.53 | MIXED
   hgpn03|<~~~~127043~~~~~>|<127245>|<127346>|<127351>|        |        |        |  38.85 | MIXED
   hgpn04|<125152>|<126564>|<~~~~~~~~~~~~~126935~~~~~~~~~~~~~~>|<127328>|<127332>|  42.64 | MIXED
   hgpn05|<124513>|<~~~~~~~~~~~~~125709~~~~~~~~~~~~~~>|<127154>|<~~~~127217~~~~~>|  47.26 | MIXED
   hgpn06|<124514>|<125234>|<~~~~126474~~~~~>|<126756>|<126757>|<126816>|<126915>|  45.19 | MIXED
   hgpn17|<~~~~126511~~~~~>|<~~~~126899~~~~~>|<~~~~126900~~~~~>|<~~~~126915~~~~~>|  42.30 | MIXED
   hgpn18|<~~~~~~~~~~~~~~~~~~~~~~125461~~~~~~~~~~~~~~~~~~~~~~~>|<126879>|<126997>|  62.59 | MIXED
   hgpn19|<~~~~~~~~~~~~~126164~~~~~~~~~~~~~~>|<126235>|<127057>|<127058>|<127329>|  45.52 | MIXED
   hgpn20|<125120>|<125149>|<126430>|<~~~~~~~~~~~~~127062~~~~~~~~~~~~~~>|<127340>|  51.37 | MIXED
   hgpn21|<~~~~~~~~~~~~~127231~~~~~~~~~~~~~~>|<~~~~127234~~~~~>|<~~~~127330~~~~~>|  72.10 | MIXED
   hgpn39|<125668>|<126134>|<126135>|<126700>|<126701>|<127258>|<127327>|<127348>|  74.41 | MIXED
   hgpn40|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~125433~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|  39.36 | MIXED
   hgpn41|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~125167~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|  47.30 | MIXED
   hgpn42|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~123869~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|  32.49 | MIXED
   hgpn43|<~~~~~~~~~~~~~123894~~~~~~~~~~~~~~>|<~~~~~~~~~~~~~123895~~~~~~~~~~~~~~>|  32.51 | MIXED
   hgpn44|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~123890~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|  32.51 | MIXED
   hgpn45|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~123865~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|  32.56 | MIXED
   hgpn46|<125117>|<~~~~~~~~~~~~~125281~~~~~~~~~~~~~~>|<~~~~126050~~~~~>|        |  38.84 | MIXED
```

this is [台灣杉2號 twnia2 hpc](https://zh.wikipedia.org/zh-tw/%E5%8F%B0%E7%81%A3%E6%9D%89%E4%BA%8C%E8%99%9F) as of 2026 Feb 28. 

```
[seanma0627@un-ln01 ~]$ ./slurm-table
         |   #1   |   #2   |   #3   |   #4   |   #5   |   #6   |   #7   |   #8   |   %CPU | State
---------|--------+--------+--------+--------+--------+--------+--------+--------|--------|-------
   gn1001|        |        |        |        |        |        |        |        |   1.00 | IDLE
   gn1002|        |        |        |        |        |        |        |        |   0.38 | IDLE
   gn1003|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~871456~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|   0.57 | MIXED
   gn1011|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~716457~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|   0.99 | MIXED
   gn1012|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~720347~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|   0.54 | MIXED
   gn1013|        |        |        |        |        |        |        |        |   0.98 | IDLE
   gn1014|        |        |        |        |        |        |        |        |   0.50 | IDLE
   gn1015|        |        |        |        |        |        |        |        |   0.38 | IDLE
   gn1016|        |        |        |        |        |        |        |        |   0.22 | IDLE
   gn1017|        |        |        |        |        |        |        |        |   0.62 | IDLE
   gn1018|        |        |        |        |        |        |        |        |   0.37 | IDLE
   gn1019|        |        |        |        |        |        |        |        |   0.40 | IDLE
   gn1020|        |        |        |        |        |        |        |        |   0.19 | IDLE
   gn1021|        |        |        |        |        |        |        |        |   0.22 | IDLE
   gn1022|        |        |        |        |        |        |        |        |   1.08 | IDLE
   gn1023|        |        |        |        |        |        |        |        |   0.36 | IDLE
   gn1024|        |        |        |        |        |        |        |        |   0.77 | IDLE
   gn1025|        |        |        |        |        |        |        |        |   0.74 | IDLE
   gn1026|        |        |        |        |        |        |        |        |   0.75 | IDLE
   gn1105|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~870854~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|   9.65 | MIXED
   gn1106|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~870858~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|   9.91 | MIXED
   gn1201|<870880>|<871486>|<871509>|        |        |        |        |        |   9.82 | MIXED
   gn1202|<871487>|<871489>|<871492>|<871496>|<871514>|        |        |        |  15.37 | MIXED
   gn1203|<~~~~~~~~~~~~~871299~~~~~~~~~~~~~~>|<~~~~~~~~~~~~~871409~~~~~~~~~~~~~~>|  11.75 | MIXED
   gn1204|<870849>|<870883>|<870906>|<870949>|<870951>|<871478>|<871516>|<871541>|  25.47 | MIXED
   gn1205|        |        |        |        |        |        |        |        |   0.63 | IDLE
   gn1206|        |        |        |        |        |        |        |        |   0.61 | IDLE
   gn1215|<870886>|<870952>|<871479>|<871517>|        |        |        |        |   9.88 | MIXED
   gn1216|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~871460~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|  11.94 | MIXED
   gn1217|<~~~~~~~~~~~~~871461~~~~~~~~~~~~~~>|        |        |        |        |   5.28 | MIXED
   gn1218|<~~~~~~~~~~~~~871414~~~~~~~~~~~~~~>|<871480>|<871481>|<871482>|        |  10.41 | MIXED
   gn1220|<~~~~~~~~~~~~~871290~~~~~~~~~~~~~~>|<871490>|<871497>|<871504>|        |  12.38 | MIXED
   gn1221|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~871416~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|   4.54 | MIXED
   gn1222|<~~~~~~~~~~~~~871426~~~~~~~~~~~~~~>|<871449>|<871483>|<871484>|<871485>|  12.32 | MIXED
   gn1223|<~~~~~~~~~~~~~870837~~~~~~~~~~~~~~>|<~~~~~~~~~~~~~870842~~~~~~~~~~~~~~>|  12.12 | MIXED
   gn1224|<871336>|<871450>|<871453>|<871455>|<871498>|<871499>|<871500>|        |  12.40 | MIXED
   gn1225|<~~~~~~~~~~~~~871303~~~~~~~~~~~~~~>|        |        |        |        |   6.18 | MIXED
   gn1226|<~~~~~~~~~~~~~871151~~~~~~~~~~~~~~>|<~~~~~~~~~~~~~871152~~~~~~~~~~~~~~>|  12.53 | MIXED
   gn1227|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~870855~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|   9.64 | MIXED
   gn1228|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~871515~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|   8.58 | MIXED
   gn1230|<871501>|<871502>|<871503>|<871505>|        |        |        |        |   6.82 | MIXED
``` 

## commands used

> would need `squeue`, `scontrol` and `sinfo` binaries in `$PATH`.

```bash
# for top section
$ squeue

# for running jobs, tries json first
$ squeue --json -a -h -t R

# if it fails, falls back to
$ squeue -a -h -t R -O JobID:20,NodeList:40,tres-alloc:40,tres-per-node:40

# for node info
$ sinfo -a -N -h -o %N|%O|%T|%G

# for json node info
$ scontrol --json show node

# if it fails, falls back to
$ scontrol show node -o
```
