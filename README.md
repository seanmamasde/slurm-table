# slurm-table

## output view

this is [nchc nano5 hpc](https://www.nchc.org.tw/Message/MessageView/3958?mid=46&page=1) as of 2026 Feb 28.

```
(base) [seanma0627@cbi-lgn01 slurm-table]$ ~/slurm-table
         |   #1   |   #2   |   #3   |   #4   |   #5   |   #6   |   #7   |   #8   |   %CPU | State
---------|--------+--------+--------+--------+--------+--------+--------+--------|--------|-------
   hgpn01|        |        |        |        |        |        |        |        |  32.35 | IDLE
   hgpn02|<~~~~126244~~~~~>|<~~~~126245~~~~~>|<~~~~126762~~~~~>|<~~~~127165~~~~~>|  39.53 | MIXED
   hgpn03|<~~~~127043~~~~~>|<127245>|<127346>|<127351>|        |        |        |  38.85 | MIXED
   hgpn04|<125152>|<126564>|<~~~~~~~~~~~~~126935~~~~~~~~~~~~~~>|<127328>|<127332>|  42.64 | MIXED
   hgpn05|<124513>|<~~~~~~~~~~~~~125709~~~~~~~~~~~~~~>|<127154>|<~~~~127217~~~~~>|  47.26 | MIXED
   hgpn06|<124514>|<125234>|<~~~~126474~~~~~>|<126756>|<126757>|<126816>|<126915>|  45.19 | MIXED
   hgpn17|<~~~~126511~~~~~>|<~~~~126899~~~~~>|<~~~~126900~~~~~>|<~~~~126915~~~~~>|  42.30 | MIXED
   hgpn18|<~~~~~~~~~~~~~~~~~~~~~~125461~~~~~~~~~~~~~~~~~~~~~~~>|<126879>|<126997>|  62.59 | MIXED
   hgpn19|<~~~~~~~~~~~~~126164~~~~~~~~~~~~~~>|<126235>|<127057>|<127058>|<127329>|  45.52 | MIXED
   hgpn20|<125120>|<125149>|<126430>|<~~~~~~~~~~~~~127062~~~~~~~~~~~~~~>|<127340>|  51.37 | MIXED
   hgpn21|<~~~~~~~~~~~~~127231~~~~~~~~~~~~~~>|<~~~~127234~~~~~>|<~~~~127330~~~~~>|  72.10 | MIXED
   hgpn39|<125668>|<126134>|<126135>|<126700>|<126701>|<127258>|<127327>|<127348>|  74.41 | MIXED
   hgpn40|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~125433~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|  39.36 | MIXED
   hgpn41|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~125167~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|  47.30 | MIXED
   hgpn42|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~123869~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|  32.49 | MIXED
   hgpn43|<~~~~~~~~~~~~~123894~~~~~~~~~~~~~~>|<~~~~~~~~~~~~~123895~~~~~~~~~~~~~~>|  32.51 | MIXED
   hgpn44|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~123890~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|  32.51 | MIXED
   hgpn45|<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~123865~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>|  32.56 | MIXED
   hgpn46|<125117>|<~~~~~~~~~~~~~125281~~~~~~~~~~~~~~>|<~~~~126050~~~~~>|        |  38.84 | MIXED
```

## commands used

> would need `squeue`, `scontrol` and `sinfo` binaries in `$PATH`.

```bash
# for top section
$ squeue

# for running jobs, tries json first
$ squeue --json -a -h -t R

# if it fails, falls back to
$ squeue -a -h -t R -O JobID:20,NodeList:40,tres-alloc:40,tres-per-node:40

# for node info
$ sinfo -a -N -h -o %N|%O|%T|%G

# for json node info
$ scontrol --json show node

# if it fails, falls back to
$ scontrol show node -o
```
